import"./hoisted.rasoniT7.js";const a=document.querySelector("form");a&&(a.onsubmit=e=>{e.preventDefault();const t=new FormData(e.currentTarget),n=new URLSearchParams(t);window.location.href=`/catalog?${n.toString()}`});const o=document.getElementById("sentinel");o&&(o.onload=()=>{new IntersectionObserver(async([t])=>{if(t.isIntersecting){const n=parseInt(new URLSearchParams(window.location.search).get("page")||"1")+1,c=await fetch(`/api/products?page=${n}`),{products:s}=await c.json();s.forEach(i=>{const r=document.createElement("astro-product-card");r.setAttribute("product",JSON.stringify(i)),document.getElementById("product-grid")?.appendChild(r)})}},{threshold:.1}).observe(o)});
